!function(){function w(a){return a.replace(q,"").replace(r,",").replace(s,"").replace(t,"").replace(u,"").split(v)}function x(a){return"'"+a.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function y(a,b){function A(a){return i+=a.split(/\n/).length-1,g&&(a=a.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),a&&(a=n[1]+x(a)+n[2]+"\n"),a}function B(a){var e,g,d=i;return f?a=f(a,b):c&&(a=a.replace(/\n/g,function(){return i++,"$line="+i+";"})),0===a.indexOf("=")&&(e=h&&!/^=[=#]/.test(a),a=a.replace(/^=[=#]?|[\s;]*$/g,""),e?(g=a.replace(/\s*\([^\)]+\)/,""),k[g]||/^(include|print)$/.test(g)||(a="$escape("+a+")")):a="$string("+a+")",a=n[1]+a+n[2]),c&&(a="$line="+d+";"+a),o(w(a),function(a){if(a&&!j[a]){var b;b="print"===a?q:"include"===a?r:k[a]?"$utils."+a:l[a]?"$helpers."+a:"$data."+a,s+=a+"="+b+",",j[a]=!0}}),a+"\n"}var v,y,c=b.debug,d=b.openTag,e=b.closeTag,f=b.parser,g=b.compress,h=b.escape,i=1,j={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},m="".trim,n=m?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],p=m?"$out+=text;return $out;":"$out.push(text);",q="function(){var text=''.concat.apply('',arguments);"+p+"}",r="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+p+"}",s="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(c?"$line=0,":""),t=n[0],u="return new String("+n[3]+");";o(a.split(d),function(a){var b,c;a=a.split(e),b=a[0],c=a[1],1===a.length?t+=A(b):(t+=B(b),c&&(t+=A(c)))}),v=s+t+u,c&&(v="try{"+v+"}catch(e){"+"throw {"+"filename:$filename,"+"name:'Render Error',"+"message:e.message,"+"line:$line,"+"source:"+x(a)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')"+"};"+"}");try{return y=new Function("$data","$filename",v),y.prototype=k,y}catch(z){throw z.temp="function anonymous($data,$filename) {"+v+"}",z}}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,a=function(a,b){return"string"==typeof b?n(b,{filename:a}):d(a,b)};a.version="3.0.0",a.config=function(a,c){b[a]=c},b=a.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},c=a.cache={},a.render=function(a,b){return n(a)(b)},d=a.renderFile=function(b,c){var d=a.get(b)||m({filename:b,name:"Render Error",message:"Template not found"});return c?d(c):d},a.get=function(a){var b,d,e;return c[a]?b=c[a]:"object"==typeof document&&(d=document.getElementById(a),d&&(e=(d.value||d.innerHTML).replace(/^\s*|\s*$/g,""),b=n(e,{filename:a}))),b},e=function(a,b){return"string"!=typeof a&&(b=typeof a,"number"===b?a+="":a="function"===b?e(a.call(a)):""),a},f={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},g=function(a){return f[a]},h=function(a){return e(a).replace(/&(?![\w#]+;)|[<>"']/g,g)},i=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},j=function(a,b){var c,d;if(i(a))for(c=0,d=a.length;d>c;c++)b.call(a,a[c],c,a);else for(c in a)b.call(a,a[c],c)},k=a.utils={$helpers:{},$include:d,$string:e,$escape:h,$each:j},a.helper=function(a,b){l[a]=b},l=a.helpers=k.$helpers,a.onerror=function(a){var c,b="Template Error\n\n";for(c in a)b+="<"+c+">\n"+a[c]+"\n\n";"object"==typeof console&&console.error(b)},m=function(b){return a.onerror(b),function(){return"{Template Error}"}},n=a.compile=function(a,d){function i(b){try{return new g(b,f)+""}catch(c){return d.debug?m(c)():(d.debug=!0,n(a,d)(b))}}var e,f,g;d=d||{};for(e in b)void 0===d[e]&&(d[e]=b[e]);f=d.filename;try{g=y(a,d)}catch(h){return h.filename=f||"anonymous",h.name="Syntax Error",m(h)}return i.prototype=g.prototype,i.toString=function(){return g.toString()},f&&d.cache&&(c[f]=i),i},o=k.$each,p="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",q=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,r=/[^\w$]+/g,s=new RegExp(["\\b"+p.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),t=/^\d[^,]*|,\d[^,]*/g,u=/^,+|,+$/g,v=/^$|,+/,"object"==typeof exports&&"undefined"!=typeof module?module.exports=a:"function"==typeof define?define(function(){return a}):this.template=a}();